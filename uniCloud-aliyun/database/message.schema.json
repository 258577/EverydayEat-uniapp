{
    "bsonType": "object",
    "required": [
        "content",
        "user_id",
        "create_time"
    ],
    "permission": {
        "read": true,
        "create": "auth.uid != null",
        "update": false,
        "delete": false
    },
    "properties": {
        "_id": {
            "description": "ID，系统自动生成"
        },
        "content": {
            "bsonType": "string",
            "description": "消息内容",
            "title": "内容",
            "maxLength": 500,
            "componentForEdit": {
                "name": "textarea"
            }
        },
        "user_id": {
            "bsonType": "string",
            "description": "用户ID，参考users表",
            "foreignKey": "users._id",
            "title": "用户"
        },
        "type": {
            "bsonType": "string",
            "description": "消息类型，如反馈、通知等",
            "title": "类型",
            "enum": [
                "feedback",
                "notification",
                "system"
            ],
            "enumLabel": {
                "feedback": "反馈",
                "notification": "通知",
                "system": "系统"
            },
            "defaultValue": "feedback"
        },
        "status": {
            "bsonType": "int",
            "description": "消息状态，0-未处理，1-已处理，2-已回复",
            "title": "状态",
            "minimum": 0,
            "maximum": 2,
            "defaultValue": 0
        },
        "create_time": {
            "bsonType": "timestamp",
            "description": "创建时间",
            "title": "创建时间",
            "defaultValue": {
                "$env": "now"
            }
        },
        "update_time": {
            "bsonType": "timestamp",
            "description": "更新时间",
            "title": "更新时间",
            "forceDefaultValue": {
                "$env": "now"
            }
        }
    }
}